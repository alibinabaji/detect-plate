# Persian License Plate Recognition (پارکینگ پلاک‌خوان)

این پروژه یک **سیستم تشخیص پلاک خودروهای ایرانی** با استفاده از **YOLOv8** و **Flask** است. کاربران می‌توانند عکس خودرو را آپلود کنند و سیستم پلاک را شناسایی کرده و به فرمت قابل استفاده برگرداند.

این پروژه برای استفاده در **کنترل ورودی پارکینگ‌ها** یا سایر کاربردهای پلاک‌خوانی طراحی شده است.

---

## ویژگی‌ها

- شناسایی **اعداد و حروف فارسی** روی پلاک خودروها
- تشخیص اجزای مختلف پلاک شامل:

  - دو رقم سمت چپ
  - حرف پلاک
  - سه رقم سمت راست
  - کد شهر (در صورت وجود)

- ارائه API ساده با **Flask** برای ارسال تصویر و دریافت نتیجه
- پشتیبانی از مدل‌های **YOLOv8** (`best.pt`) با fallback به مدل پیش‌فرض `yolov8n.pt`

---

## نصب

ابتدا محیط مجازی Python ایجاد کنید (اختیاری ولی توصیه شده):

```bash
python3 -m venv venv
source venv/bin/activate
```

سپس نیازمندی‌ها را نصب کنید:

```bash
pip install -r requirements.txt
```

**توجه:** فایل مدل `best.pt` باید در کنار پروژه باشد. اگر فایل مدل بزرگ است، بهتر است با **Git LFS** مدیریت شود.

---

## راه‌اندازی سرور

برای اجرای سرور Flask کافی است:

```bash
python app.py
```

- سرور روی `http://0.0.0.0:5000` اجرا می‌شود.
- می‌توانید از طریق ابزارهایی مثل **Postman** یا با **curl** تصویر ارسال کنید.

---

## استفاده از API

### Endpoint:

```
POST /detect_plate
```

### پارامترها:

- `image` (فرمت: فایل تصویر): عکس خودرو که پلاک در آن مشخص است

### نمونه درخواست با `curl`:

```bash
curl -X POST -F "image=@/path/to/car.jpg" http://localhost:5000/detect_plate
```

### پاسخ موفق:

```json
{
  "plate_text": {
    "left_digits": "12",
    "letter": "ب",
    "right_digits": "345",
    "city_digits": "67"
  }
}
```

### پاسخ در صورت عدم شناسایی پلاک:

```json
{
  "message": "پلاک موجود نیست"
}
```

---

## نقشه کاراکترها

پروژه از مپ زیر برای تبدیل کلاس‌های YOLO به کاراکترهای فارسی و اعداد استفاده می‌کند:

```text
۰ ۱ ۲ ۳ ۴ ۵ ۶ ۷ ۸ ۹
الف ب ت ث ج د س ش ص ط ظ ع ق ل م ن ه و پ ژ ی ز
```

---

## نکات مهم

1. **مدل پیش‌فرض**: اگر `best.pt` وجود نداشته باشد، از مدل سبک `yolov8n.pt` استفاده می‌شود.
2. **بهینه‌سازی تصاویر**: تصاویر با رزولوشن خیلی بالا ممکن است سرعت تشخیص را کاهش دهند.

---

## توسعه و شخصی‌سازی

- می‌توانید مدل YOLO را برای دقت بهتر **روی دیتاست شخصی پلاک‌های ایرانی** fine-tune کنید.
- API قابل توسعه برای ارسال چند تصویر همزمان است.
- امکان اضافه کردن تشخیص نوع خودرو یا رنگ پلاک در آینده وجود دارد.

---
